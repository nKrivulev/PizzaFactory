{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport MenuServices from '../services/menu-services';\nexport default {\n  name: 'MenuView',\n\n  created() {\n    this.filterMenus();\n  },\n\n  data() {\n    return {\n      perPage: 5,\n      currentPage: 1,\n      totalElements: 0,\n      totalPages: 0,\n      filters: {\n        item: ''\n      },\n      fields: [{\n        key: 'id',\n        label: 'Идентификатор'\n      }, {\n        key: 'item',\n        label: 'Име'\n      }, {\n        key: 'description',\n        label: 'Съставки'\n      }, {\n        key: 'drink',\n        label: 'Напитки'\n      }],\n      menus: [{\n        id: '',\n        item: '',\n        description: '',\n        drink: [{\n          id: '',\n          name: ''\n        }]\n      }]\n    };\n  },\n\n  methods: {\n    filterMenus() {\n      MenuServices.filterMenus(this.perPage, this.currentPage, this.filters.item).then(response => {\n        this.menus = response.data.menus;\n        this.totalElements = response.data.totalElements;\n        this.totalPages = response.data.totalPages;\n        console.log(response);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AAEA;EACAA,gBADA;;EAEAC;IACA;EACA,CAJA;;EAKAC;IACA;MACAC,UADA;MAEAC,cAFA;MAGAC,gBAHA;MAIAC,aAJA;MAKAC;QACAC;MADA,CALA;MAQAC,SACA;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAD;QAAAC;MAAA,CAFA,EAGA;QAAAD;QAAAC;MAAA,CAHA,EAIA;QAAAD;QAAAC;MAAA,CAJA,CARA;MAcAC,QACA;QACAC,MADA;QAEAL,QAFA;QAGAM,eAHA;QAIAC,QACA;UACAF,MADA;UAEAb;QAFA,CADA;MAJA,CADA;IAdA;EA4BA,CAlCA;;EAmCAgB;IACAC;MACAC,yBACA,YADA,EAEA,gBAFA,EAGA,iBAHA,EAKAC,IALA,CAMAC;QACA;QACA;QACA;QACAC;MACA,CAXA;IAaA;;EAfA;AAnCA","names":["name","created","data","perPage","currentPage","totalElements","totalPages","filters","item","fields","key","label","menus","id","description","drink","methods","filterMenus","MenuServices","then","response","console"],"sourceRoot":"src/views","sources":["MenuView.vue"],"sourcesContent":["<template>\n  <div id=\"body\">\n    <div id=\"filter-table\">\n      <div id=\"spin-button\">\n        <label id=\"text\">Per page:</label>\n        <b-spinbutton\n          v-on:change=\"filterMenus\"\n          v-model=\"perPage\"\n          min=\"1\"\n          max=\"10\">\n        </b-spinbutton>\n      </div>\n      <div id=\"filter-input\">\n        <b-form-input\n          v-model=\"filters.item\"\n          type=\"search\"\n          placeholder=\"Type to Search\"\n          @input=\"filterMenus\">\n        </b-form-input>\n      </div>\n    </div>\n\n    <b-table\n      id=\"my-table\"\n      striped hover fixed\n      :items=\"menus\"\n      :fields=\"fields\"\n      :filter=\"filters.item\"\n      :per-page=\"0\"\n      :current-page=\"currentPage\"\n    >\n      <template v-slot:cell(drink)=\"list\">\n        <p v-for=\"element in list.item.drink\" :key=\"element.id\" style=\"display: inline\">\n        {{element.name}},\n        </p>\n      </template>\n    </b-table>\n\n    <b-pagination\n      id=\"pagination\"\n      v-model=\"currentPage\"\n      :total-rows=\"totalElements\"\n      :per-page=\"perPage\"\n      aria-controls=\"my-table\"\n      @input=\"filterMenus\"\n    ></b-pagination>\n  </div>\n</template>\n\n<script>\nimport MenuServices from '../services/menu-services'\n\nexport default {\n  name: 'MenuView',\n  created () {\n    this.filterMenus()\n  },\n  data () {\n    return {\n      perPage: 5,\n      currentPage: 1,\n      totalElements: 0,\n      totalPages: 0,\n      filters: {\n        item: ''\n      },\n      fields: [\n        { key: 'id', label: 'Идентификатор' },\n        { key: 'item', label: 'Име' },\n        { key: 'description', label: 'Съставки' },\n        { key: 'drink', label: 'Напитки' }\n      ],\n      menus: [\n        {\n          id: '',\n          item: '',\n          description: '',\n          drink: [\n            {\n              id: '',\n              name: ''\n            }\n          ]\n        }\n      ]\n    }\n  },\n  methods: {\n    filterMenus () {\n      MenuServices.filterMenus(\n        this.perPage,\n        this.currentPage,\n        this.filters.item\n      )\n        .then(\n          (response) => {\n            this.menus = response.data.menus\n            this.totalElements = response.data.totalElements\n            this.totalPages = response.data.totalPages\n            console.log(response)\n          }\n        )\n    }\n  }\n}\n</script>\n\n<style lang=\"css\">\n@import '../assets/styles/menu.css';\n</style>\n"]},"metadata":{},"sourceType":"module"}